Registry.registerRaw("page.js","5443",{inject:function(a){var q="text/xml"==document.contentType?document.createElementNS("http://www.w3.org/1999/xhtml","script"):document.createElement("script");q.textContent=a;(document.head||document.body||document.documentElement||document).appendChild(q);q.parentNode.removeChild(q)},backup:function(a,q,l,I){var c={safeWindow:{},safeDocument:{},eval:eval,Context:{D:I},exec_fn:function(a,b,L){k(new c.safeWindow.Function(a),b,L)},exec_csp:function(a,
b,L){var f="__u__"+(19831206*c.Context.M_r()+1);c.Message.send("csp",{id:f,src:a});c.exec_script(f,b,L)},exec_script:function(a,b,c){var f=window[a];delete window[a];k(f,b,c)}},k,b,x,E,m;(function(){var d=function(a){var b=function(b){return k(a,b,k(x.wrappedJSObject,arguments,[1]))};b.wrappedJSObject=a;return b},P={F_a:k=function(){var b=a.Function.apply;return function(a,c,d){a.apply===b?c=a.apply(c,d):(a[l]=b,c=a[l](c,d),delete a[l]);return c}}(),E_u:function(b,d){if(c.exec_eval){var l="__u__"+
(19831206*c.Context.M_r()+1),k=l+"_";window[k]=d;var e=c.Context.F_c(c.Context.eval,window,"(function() {"+b+'}).apply(window["'+k+'"])');delete a[l];delete a[k];return e}c.exec_csp(b,d)},E_c:function(a,b){c.exec_eval?k(new c.safeWindow.Function(a),b):c.exec_csp(a,b)},F_c:d(a.Function.call),F_b:b=d(a.Function.bind),F_tS:d(a.Function.toString),A_fE:d(a.Array.prototype.forEach),A_sl:x=d(a.Array.prototype.slice),A_sp:d(a.Array.prototype.splice),A_sh:d(a.Array.prototype.shift),A_j:d(a.Array.prototype.join),
A_pu:d(a.Array.prototype.push),A_po:d(a.Array.prototype.pop),A_m:d(a.Array.prototype.map),A_c:d(a.Array.prototype.concat),A_f:d(a.Array.prototype.filter),A_iO:d(a.Array.prototype.indexOf),O_k:a.Object.keys,O_dP:a.Object.defineProperties,O_gOPN:a.Object.getOwnPropertyNames,O_gOPD:a.Object.getOwnPropertyDescriptor,O_dG:d(a.Object.prototype.__defineGetter__),O_dS:d(a.Object.prototype.__defineSetter__),O_tS:d(a.Object.prototype.toString),J_p:m=a.JSON.parse,J_s:E=a.JSON.stringify,c_l:a.console.log.bind(a.console),
c_i:a.console.info.bind(a.console),c_w:a.console.warn.bind(a.console),c_e:a.console.error.bind(a.console),c_d:a.console.debug.bind(a.console),M_f:a.Math.floor,M_r:a.Math.random,M_m:a.Math.max,N_tS:d(a.Number.prototype.toString),R_rAAB:d(a.FileReader.prototype.readAsArrayBuffer),S_fCC:a.String.fromCharCode,S_m:d(a.String.prototype.match),S_su:d(a.String.prototype.substr),S_se:d(a.String.prototype.search),S_sp:d(a.String.prototype.split),S_r:d(a.String.prototype.replace),S_cCA:d(a.String.prototype.charCodeAt),
S_tLC:d(a.String.prototype.toLowerCase),S_tUC:d(a.String.prototype.toUpperCase),D_pFS:d(a.DOMParser.prototype.parseFromString),X_o:d(a.XMLHttpRequest.prototype.open),X_sRH:d(a.XMLHttpRequest.prototype.setRequestHeader),X_oMT:d(a.XMLHttpRequest.prototype.overrideMimeType),X_gARH:d(a.XMLHttpRequest.prototype.getAllResponseHeaders),X_gRH:d(a.XMLHttpRequest.prototype.getResponseHeader),X_s:d(a.XMLHttpRequest.prototype.send),X_a:d(a.XMLHttpRequest.prototype.abort),D_n:a.Date.now};Object.keys(P).forEach(function(a){c.Context[a]=
P[a]});"String Array Object Number parseInt JSON Math Date Event MutationEvent console location Error Uint8Array Blob FileReader DOMParser XMLHttpRequest Function RegExp frames self top document location".split(" ").forEach(function(b){c.safeWindow[b]=a[b]});"postMessage addEventListener removeEventListener setTimeout setInterval clearTimeout clearInterval alert prompt confirm encodeURIComponent decodeURIComponent encodeURI decodeURI escape unescape atob btoa close".split(" ").forEach(function(b){var d=
a[b];c.safeWindow[b]=function(){return k(d,a,arguments)}});c.createSafeDocument=function(a){"getElementById createEvent createElement dispatchEvent addEventListener removeEventListener".split(" ").forEach(function(b){var d=a[b];c.safeDocument[b]=function(){return k(d,a,arguments)}})};c.createSafeDocument(q)})();try{c.Message=function(a,b){var c=function(){return k(b.dispatchEvent,b,arguments)},f=function(){return k(b.addEventListener,b,arguments)},l=function(){return k(b.removeEventListener,b,arguments)},
q=function(a,c){var d=b.createEvent("MutationEvent");d.initMutationEvent(a,!1,!1,null,null,null,E(c),d.ADDITION);return d},e=function(a,b){var c;a&&(c=ea[a])&&(c(b),delete ea[a])},x,I,J,T,ba=1,ea={},ca=function(a){var b=m(a.attrName);"message.response"==b.m?e(b.r,b.a):x&&x(b,b.r?function(a){a=q(J,{m:"message.response",a:a,r:b.r});c(a)}:function(){})};return{init:function(a){T||(T=a);J="2C_"+T;I="2P_"+T;f(I,ca,!1)},send:function(a,b,d){if(d){var e=++ba;ea[ba]=d;d=e}else d=null;a=q(J,{m:a,a:b,r:d});
c(a)},onMessage:{setListener:function(a){x=a}},cleanup:function(){ca&&l(I,ca,!1);ca=null}}}(c.safeWindow,c.safeDocument),c.Message.init(l),c.Message.onMessage.setListener(function(a){if(c)if("load"==a.m)c.Context.pageLoaded=!0;else if("DOMContentLoaded"==a.m)c.Context.domContentLoaded=!0;else if("cleanup"==a.m)c.Message.cleanup(),c=null;else if("next"==a.m)if(a.a.id)c.exec_script(a.a.id,c),c.exec_eval=!1;else{if(void 0===c.exec_eval)try{c.exec_eval=b(c.eval,window)("true")}catch(l){c.exec_eval=!1}c.exec_eval?
c.exec_fn(a.a.src,c):c.exec_csp(a.a.src,c)}})}catch(d){}},next:function(a,q,l,I,c,k,b,x,E,m,d,P,L,f,ma){var H="";x&&(H+="var V = true;\n");m&&(H+="var EV = true;\n");E&&(H+="var ENV = true;\n");m="";if(L||"complete"==document.readyState)m+="Context.pageLoaded |= true;\nContext.domContentLoaded |= true;\n";else if(f||"interactive"==document.readyState)m+="Context.domContentLoaded |= true;\n";return['var backup = this;\n(function TM_back() {var Context = backup.Context;\nvar copy = function(src) {"use strict";var props = Context.O_gOPN(src);for (var kk, ii=0; (kk=props[ii]) !== undefined; ii++) {Context[kk] = src[kk];};};copy(backup);with (Context) {(function() {"use strict";copy({Context: Context,V:',
x?"true":"false",",ENV:",E?"true":"false",",TS:",d?"true":"false",",D:",P?"true":"false",",use:",k,",windowProps:",I,",scripts:",q,",powers:",l,",_content: false,flags:",c,',write_listeners: []});var cleanup = function(evt) {Message.cleanup();safeWindow.removeEventListener("unload", cleanup, false);};safeWindow.addEventListener("unload", cleanup, false);Context.write_listeners.push(function(d) {Context.createSafeDocument(d);Message.init();});',H+("var logLevel = "+b+";\n")+('var contextId = "'+a+
'";\n')+"var Event = function() {};var Window = function() {};Window.prototype = {};"+m+"("+ma+")(Context, contextId);\n","})();};})()"].join("")},environment:function(a,q){var l=a.V,I=a.EV,c=a.D,k=a.Message,b=a.safeWindow,x=a.safeDocument,E=a.flags,m=a.F_a,d=a.F_c,P=a.F_b,L=a.F_tS,f=a.A_fE,ma=a.A_sl,H=a.A_sp,e=a.A_pu,fa=a.A_po,qa=a.A_sh,J=a.A_j,T=a.A_f,ba=a.A_iO,ea=a.A_m,ca=a.A_c,D=a.O_k,aa=a.O_dP,Ca=a.O_gOPN,na=a.O_gOPD,ha=a.O_dG,ra=a.O_dS,Da=a.O_tS,sa=a.J_p,ia=a.J_s,v=a.c_l,Ea=a.c_i,Q=a.c_w,ga=
a.c_e,u=a.c_d,Fa=a.M_f,ta=a.M_r,ua=a.M_m,va=a.S_fCC,ja=a.S_m,wa=a.S_su,xa=a.S_sp,V=a.S_r,Ga=a.S_se,ya=a.S_cCA,za=a.S_tLC,Ha=a.S_tUC,Ia=a.R_rAAB,Ja=a.D_pFS,Ka=a.X_o,La=a.X_sRH,Ma=a.X_oMT,Na=a.X_gARH,Oa=a.X_gRH,Pa=a.X_s,Qa=a.X_a,Ra=a.N_tS,ka=a.D_n;a.domContentLoaded|=0;a.pageLoaded|=0;a.domNodeInserted|=0;a.props={};var da=function(){var d=[],Aa=function(a){if(document.body)a&&(a(),a=null);else{var b=["load","DOMNodeInserted","DOMContentLoaded"],c=function(){f(b,function(a){x.removeEventListener(a,
c,!1)});Aa(a)};f(b,function(a){x.addEventListener(a,c,!1)})}},oa=function(c){e(d,function(){b.setTimeout(c,1)});a.domContentLoaded&&G.runListeners()},G={runListeners:function(){for(var a;a=qa(d);)a()},run:function(b){var t=function(){Sa.create(b)};"document-start"==b.script.options.run_at?(c&&u('env: run "'+b.script.name+'" ASAP -> document-start'),t()):"document-body"==b.script.options.run_at?(c&&u('env: schedule "'+b.script.name+'" for document-body'),Aa(t)):"context-menu"==b.script.options.run_at?
(c&&u('env: run "'+b.script.name+'" ASAP -> context-menu'),t()):"document-end"==b.script.options.run_at?(c&&u('env: schedule "'+b.script.name+'" for document-end'),e(d,t),a.domContentLoaded&&G.runListeners()):(c&&u('env: schedule "'+b.script.name+'" for document-idle'),oa(t))}};return G}();(l||c)&&u("env: initialized (content, id:"+wa(q,0,10)+"..., "+b.location.origin+b.location.pathname+") ");var W={createUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=
16*ta()|0;return Ra("x"==a?b:b&3|8,16)})},toType:function(a){return ja(Da(a,{}),new b.RegExp("\\s([a-z|A-Z]+)"))[1]}},X={UTF8:{encode:function(a){return b.unescape(b.encodeURIComponent(a))},decode:function(a){return b.decodeURIComponent(b.escape(a))}},Base64:{encode:function(a){for(var c="",d=0;d<a.length;d++)c+=va(ya(a,d)&255);return b.btoa(c)},decode:function(a){return b.atob(a)}},str2arrbuf:function(a){for(var c=new b.Uint8Array(a.length),d=0;d<a.length;d++)c[d]=ya(a,d);return c.buffer},arrbuf2str:function(a){var c=
"";a=new b.Uint8Array(a);for(var d=0;d<a.length;d+=32687)c+=m(va,null,a.subarray(d,d+32687));return c}},R=function(){var a={},b,d=function(b){var c=[],d=[],M=function(){l=d=c=null;delete a[b]},l={postMessage:function(a){k.send("port.message",{response_id:b,value:a})},onMessage:{addListener:function(a){e(c,a)}},onDisconnect:{addListener:function(a){e(d,a)}},disconnect:function(){k.send("port.message",{response_id:b,disconnect:!0});M()}};a[b]={message:function(a){c&&f(c,function(b){b(a)})},disconnect:function(a){d&&
f(d,function(b){b(a)});M()}};return l};return{message:function(e){var y;e.connect?b&&b(e.destination,d(e.response_id)):(y=a[e.response_id])?e.disconnect?y.disconnect():y.message(e.value):c&&Q("ports: unkown id",e.response_id,e)},connect:function(a){var b=W.createUUID();k.send("port.message",{response_id:b,connect:!0,destination:a});return d(b)},onConnect:{addListener:function(a){b=a}}}}(),pa=function(){var a={objs:{},push:function(b,c){0!==c&&1!==c&&(c=0);var d=Fa(19831206*ta()+1);a.objs[d]={fn:b,
prio:c};return d},remove:function(b){delete a.objs[b]},get:function(b){for(var c=[],d=0;1>=d;d++)f(D(a.objs),function(y){a.objs[y].prio!==d||void 0!==b&&y!=b||e(c,a.objs[y].fn)});return void 0===b?c:c[0]},finalize:function(b){if(void 0===b){b=a.get();for(var c=0;c<b.length;c++)b[c]()}else return a.objs[b]&&(c=a.objs[b].fn(),delete a.objs[b]),c}};return a}(),Z=function(){var a=function(){var a=0,c={},d={register:function(e,f,k){var m=R.connect("registerMenuCommand");m.onMessage.addListener(function(a){"run"===
a&&b.setTimeout(f,1)});m.onDisconnect.addListener(function(){d.unregister(F)});m.postMessage({method:"register",name:e,accessKey:k});l&&v("env: registerMenuCommand "+L(f));var F=++a;c[F]=m.disconnect;return F},unregister:function(a){l&&v("env: registerMenuCommand "+a);var b;if(b=c[a])b(),delete c[a]}};return d}(),d=function(a,b){var d=null,f=!1,l=null,k,m=function(){var a=[];return{run:function(b){b&&e(a,b);if(d)for(;a.length;)fa(a)()}}}(),F=R.connect("openInTab");F.onMessage.addListener(function(a){a.tabId?
f?A():(d=a.tabId,m.run()):a.name?k=a.name:a.close&&(f=!0,l&&(l(),l=void 0))});F.onDisconnect.addListener(function(){F=null});F.postMessage({method:"openTab",url:a,options:b});var A=function(){F&&F.postMessage({method:"closeTab"})},z={};aa(z,{close:{value:function(){f?c&&u("env: attempt to close already closed tab!"):(f=!0,A())}},closed:{get:function(){return f}},onclose:{get:function(){return l},set:function(a){l=a}},name:{get:function(){return k},set:function(a){m.run(function(){F&&F.postMessage({method:"nameTab",
name:a})})}}});return z},I=function(a,c){var d="Object"===W.toType(a)?a:{url:a,name:c},e=function(a,c){c=c||{};a&&b.setTimeout(function(){m(a,c,[c])},1)},f=R.connect("download");f.onMessage.addListener(function(a){try{a.load?d.onload&&e(d.onload,a.data):a.progress?d.onprogress&&e(d.onprogress,a.data):a.timeout?d.ontimeout&&e(d.ontimeout,a.data):d.onerror&&e(d.onerror,a.data)}catch(b){v("env: Error: TM_download - ",b,d)}});f.onDisconnect.addListener(function(){f=null});f.postMessage({details:d});return{abort:function(){f&&
f.disconnect();f=null}}},G={};return{log:v,addStyle:function(a,b){var c=W.createUUID();k.send("addStyle",{css:a,id:c},b?function(){b()}:null);return x.getElementById(c)},closeTab:function(a){k.send("closeTab",null,a?function(){a()}:null)},focusTab:function(a){k.send("focusTab",null,a?function(){a()}:null)},setClipboard:function(a,b,c){k.send("setClipboard",{content:a,info:b,id:q},c?function(){c()}:null)},syntaxCheck:function(a,b){k.send("syntaxCheck",{code:a},function(a){b(a)})},of:function(y){var t=
y.script,u=function(){var a=[],d=y.storage,z=0,U=function(a,c){if("string"===typeof a){var d=a[0];a=wa(a,1);switch(d){case "b":return"true"===a;case "n":return b.Number(a);case "o":try{return sa(a)}catch(n){v("values: parseValueFromStorage: "+n)}return c;default:return a}}else return c},N=function(b,d,S,n){d!=S&&f(a,function(a){if(a&&a.key==b&&a.cb)try{a.cb(b,U(d),U(S),n)}catch(z){c&&Q('values: change listener of "'+b+'" failed with: '+z.message)}})},p=function(a){g.postMessage({method:"saveStorageKey",
uuid:t.uuid,key:a,value:d.data[a],id:q,ts:d.ts})},g=R.connect("values");g.onMessage.addListener(function(a){a.storage&&f(D(a.storage.data),function(b){var c=d.data[b];d.data[b]=a.storage.data[b];var n=d.data[b];l&&v("values: message - config key "+b+": "+c+" -> "+n);N(b,c,n,!0)});a.removed&&(d[a.removed]=void 0)});g.onDisconnect.addListener(function(){c&&v("values: port disconnected")});g.postMessage({method:"addStorageListener",uuid:t.uuid,id:q});return{set:function(a,b){var c=d.data[a];d.ts=ka();
var n=d.data,h;a:{h=b;var z=(typeof h)[0];switch(z){case "o":try{h=z+ia(h)}catch(F){v(F);h=void 0;break a}break;default:h=z+h}}n[a]=h;p(a);N(a,c,d.data[a],!1)},get:function(a,b){return U(d.data[a],b)},remove:function(a){var b=d.data[a];d.ts=ka();delete d.data[a];p(a);N(a,b,d.data[a],!1)},list:function(){return D(d.data)},registerChangeListener:function(b,c){var d=++z;e(a,{id:d,key:b,cb:c});return d},unregisterChangeListener:function(b){a=T(a,function(a){return a.id!==b?!0:!1})}}}(),x=function(){return{getText:function(a){for(var b=
0;b<t.resources.length;b++){var c=t.resources[b];if(c.name==a&&!c.failed){try{if(null!==c.content)return X.UTF8.decode(c.content)}catch(d){}return""}}return null},getURL:function(a){for(var b=0;b<t.resources.length;b++){var c=t.resources[b];if(c.name==a&&!c.failed){if(null===c.content)return"";try{return"data:"+(c.meta||"application")+";base64,"+X.Base64.encode(c.content)}catch(d){}return c.url}}return null}}}(),H=function(){return{set:function(a,b){k.send("tabsSet",{uuid:t.uuid,tab:a},b?function(){b()}:
null)},get:function(a){k.send("tabsGet",{uuid:t.uuid},a?function(b){a(b||{})}:null)},getAll:function(a){k.send("tabsGetAll",{uuid:t.uuid},a?function(b){a(b||{})}:null)}}}(),L=function(a){var c=!1,d=a.context;delete a.context;var U=function(){var a={};f(D(b.XMLHttpRequest.__proto__),function(b){a[b]=!0});var c=function(){};f(D(b.XMLHttpRequest),function(d){a[d]||(c[d]=b.XMLHttpRequest[d])});return c}(),N=function(){c=!0},p=function(a,d){d=d||{};a&&!c&&b.setTimeout(function(){d.__proto__=U;m(a,d,[d])},
1)};"object"===typeof a.url&&a.url.href&&(a.url=a.url.href);var g=function(a,c){var d=new b.FileReader;d.onload=function(){c(X.arrbuf2str(d.result))};Ia(d,a)},r=function(a,c){var d,C,z,A=W.toType(a);if("Blob"===A||"File"===A)g(a,function(b){c({type:A,value:b,meta:a.type,name:a.name,lastModified:a.lastModified})});else if("FormData"===A)if(C=a.keys&&a.getAll?a.keys():null){var B,U={};for(d=[];!(B=C.next()).done;)e(d,B.value);z=function(){if(d.length){var b=fa(d),C=a.getAll(b);-1===Ga(b,/\[\]$/)&&(C=
C[0]);r(C,function(a){U[b]=a;z()})}else c({type:"FormData",value:U})};z()}else c({error:A});else if(!(A=W.toType(a))||"Array"!==A&&"Object"!==A)c({value:a});else{var Y,f,N=0;C=0;"Object"===A?(d=D(a),f=function(a){return a<d.length?d[a]:null},Y={}):(f=function(b){return b<a.length?b:null},Y=[]);z=function(){var d=f(N);null===d?c({type:A,value:Y}):r(a[d],function(a){a.error?c(a):(Y[d]=a,N++,1024>C++?z():(C=0,b.setTimeout(z,1)))})};z()}},B=!0;(function(b){if(!a.data)return b();r(a.data,function(c){c.error?
(B=!1,Q("GM_xmlhttpRequest:","unable to handle data type "+c.error+". Going to use default xhr as fallback.")):(a.binary&&(c.type="Blob"),a.data=c,a.data_type="typified");b()})})(function(){if(!c)if(B){var g=R.connect("xhr"),n=[];a.headers&&f(D(a.headers),function(b){"cookie"===za(b)&&(a.cookie=a.headers[b],delete a.headers[b])});g.postMessage({method:"xhr",details:a,callbacks:{onloadstart:!!a.onloadstart,onload:!!a.onload,onreadystatechange:!!a.onreadystatechange,onerror:!0,ontimeout:!!a.ontimeout,
onprogress:!!a.onprogress,onpartial:!0},id:q,url:b.location.href,uuid:t.uuid});g.onMessage.addListener(function(c){c.data&&d&&(c.data.context=d);if(c.data&&c.onload){n.length&&(c.data.response_data=J(n,""),n=null);if(c.data.response_data){var h=c.data.response_data;f(["response_data"],function(a){delete c.data[a]});var g={response:function(c){var d=a.responseType?za(a.responseType):"";return"arraybuffer"==d?X.str2arrbuf(c):"blob"==d?new b.Blob([X.str2arrbuf(c)]):"json"==d?sa(c):c},responseText:function(a){return a},
responseXML:function(a){var c=new b.DOMParser;return Ja(c,a,"text/xml")}};f(D(g),function(a){ha(c.data,a,function(){try{return g[a](h)}catch(b){Q("GM_xmlhttpRequest: ",b)}})})}p(a.onreadystatechange,c.data);p(a.onload,c.data)}else if(c.onreadystatechange)4!=c.data.readyState&&p(a.onreadystatechange,c.data);else if(c.onpartial)e(n,c.data.partial);else if(c.onerror)c.exception&&ga(c.exception),p(a.onerror,c.data);else{var A=T(["onloadstart","onprogress","ontimeout"],function(a){return!!c[a]})[0]||"onerror";
p(a[A],c.data)}});l&&g.onDisconnect.addListener(function(){v("env: TM_xmlhttpRequest.onDisconnect! :)")});N=function(){g&&g.disconnect();g=null;c=!0}}else{var h=new b.XMLHttpRequest;void 0===a.async&&(a.async=!0);Ka(h,a.method,a.url,a.async,a.user,a.password);a.headers&&f(D(a.headers),function(b){La(h,b,a.headers[b])});a.overrideMimeType&&Ma(h,a.overrideMimeType);a.responseType&&(h.responseType=a.responseType);f("abort error load loadstart progress readystatechange timeout".split(" "),function(b){h["on"+
b]=function(){var c="",n=a.url;if(2<h.readyState&&(c=Na(h),4==h.readyState)){c&&(c=V(c,/TM-finalURL[0-9a-zA-Z]*\: .*[\r\n]{1,2}/,""));var g=Oa(h,"TM-finalURL"+E.short_id);g&&(n=g)}c={readyState:h.readyState,status:"",statusText:"",responseHeaders:c,finalUrl:n,context:d};4==h.readyState&&(h.responseType?c.response=h.response:(c.responseText=h.responseText,c.responseXML=h.responseXML),c.status=h.status,c.statusText=h.statusText);p(a["on"+b],c)}});Pa(h,a.data);N=function(){Qa(h);c=!0}}});return{abort:function(){N()}}},
P=function(a,b,c,d,e){var p=null,g={id:q},r=["timeout","text","image","title","highlight"],B=null;"object"===typeof a?B=a:"object"===typeof e&&(B=e);B?(f(r,function(a){g[a]=B[a]}),p=B.ondone,d=B.onclick,"function"===typeof b&&(p=b)):("number"===typeof e&&(g.timeout=e),g.image=c,g.title=b,g.text=a);g.text&&(g.image=g.image||t.icon64||t.icon,g.title=g.title||t.name);g.text||g.highlight?k.send("notification",g,function(a){d&&a.clicked&&d();p&&p(!0===a.clicked)}):Q("GM_notification: neither a message text nor the hightlight options was given!")};
G[y.script.uuid]=G[y.script.uuid]||{getInfo:function(){var a=y.script,b={observers:1,id:1,enabled:1,hash:1,fileURL:1},c={script:{}};f(D(a),function(d){b[d]||(c.script[d]=a[d])});var d=a.options.updateURL||a.options.fileURL;c.script["run-at"]=a.options.override.run_at||a.options.run_at;c.script.excludes=a.options.override.orig_excludes;c.script.includes=a.options.override.orig_includes;c.script.matches=a.options.override.orig_matches;c.script.grant=a.grant;c.script.unwrap=!1;c.scriptMetaStr=y.header;
c.scriptSource=y.code;c.scriptWillUpdate=!!d;c.scriptUpdateURL=d;c.version=E.version;c.scriptHandler="Tampermonkey";c.isIncognito=E.inIncognitoContext;c.downloadMode=E.downloadMode;return c}(),registerMenuCommand:a.register,unregisterMenuCommand:a.unregister,download:I,openInTab:d,setValue:u.set,getValue:u.get,deleteValue:u.remove,listValues:u.list,addValueChangeListener:u.registerChangeListener,removeValueChangeListener:u.unregisterChangeListener,getResourceText:x.getText,getResourceURL:x.getURL,
notification:P,xmlhttpRequest:L,setTab:H.set,getTab:H.get,getTabs:H.getAll};return G[y.script.uuid]}}}(),Sa=function(){var q=function(a,b,c){for(var d in b){var e=na(b,d);e&&e.get&&!E.sandbox_allow_getters||("function"===typeof b[d]?a[d]=P(b[d],b):function(){var c=d;ha(a,c,function(){return b[c]})}())}f(D(c),function(b){a[b]=c[b]});return a},x=function(a,c,d,e){var p={attrChange:0,attrName:null,bubbles:!0,cancelBubble:!1,cancelable:!1,clipboardData:void 0,currentTarget:null,defaultPrevented:!1,eventPhase:0,
newValue:null,prevValue:null,relatedNode:null,returnValue:!0,srcElement:null,target:null,timeStamp:ka()};d="string"===typeof d?new b.Function(d):d;var g=new Event;f(D(p),function(a){g[a]=p[a]});f(D(c),function(a){g[a]=c[a]});g.type=a;m(d,e,[g])},oa=function(a,b,c){void 0===c&&(c=function(a){return a});var d={GM_info:!0};f(a,function(a){d[a]=!0});return T(b,function(a){return d[c(a.name)]})},G=function(a,b){void 0===b&&(b=100);return b&&a&&(a==document||G(a.parentNode,b-1))},y=function(){var b=null;
return function(c){b||(b={instance:c,is_open:!1},f(["write","writeln","open","close"],function(d){b[d]=c[d];c[d]=function(){var e=!1;-1!=ba(["write","writeln","open"],d)?b.is_open?e=!0:b.is_open=!0:"close"===d&&(b.is_open=!1);!e&&b.is_open&&k.send("document.write");var l=document.documentElement,g=m(b[d],c,arguments);if(!e&&b.is_open)return l!==document.documentElement&&(b.instance!==c&&(b=null,y(document)),f(a.write_listeners,function(a){a(document)})),g}}))}}(),t={},M=[],R=function(f,z,k,m){if(!f.__addEventListener){aa(f,
{__addEventListener:{value:f.addEventListener,enumerable:!1,configurable:!1},__removeEventListener:{value:f.removeEventListener,enumerable:!1,configurable:!1}});var p=[],g=function(a){for(var b=0;b<p.length;b++)if(p[b].fn===a)return b};f.removeEventListener=function(a,b,c){c=!!c;var d,e;if(void 0!==(d=g(b))&&(e=p[d].listeners)){if(b=e[a+"-"+c])this.__removeEventListener(a,b,c),delete e[a+"-"+c];Ca(e).length||H(p,d,1)}else this.__removeEventListener(a,b,c)};var r=function(a,c,d,h){if(c){var g=M.length;
c=b.parseInt(J(["DOMContentLoaded"==d?1:2,h?1:2,h?c:3-c,ka()],"0"));for(d=0;d<M.length;d++)if(h=M[d],!h||!h.prio||h.prio>c){g=d;break}H(M,g,0,{prio:c,fn:a})}else e(M,{fn:a})};f.addEventListener=function(f,S,n){(l||I)&&v("env: addEventListener "+f);if("load"==f||"DOMContentLoaded"==f||"DOMNodeInserted"==f){n=!!n;var h=!0,C=this;if(!m)try{try{throw new b.Error;}catch(la){var A=/tms_[0-9a-f_]+/,O=la.stack||la.stacktrace;if(O)for(var K=xa(O,"\n"),u,O=0;O<K.length&&(!(u=ja(K[O],A))||!(m=t[u[0]]));O++);
else{var Y=function(a,d){void 0===d&&(d=10);if(0===d)return null;if(a.caller){var h,e;try{return e=L(a.caller),ja(e,new b.RegExp("^function[^(]+"))&&(void 0).length&&(h=ja((void 0)[0],A))?h[0]:Y(a.caller,d-1)}catch(g){c&&Q("env: unable to detect caller context",g)}}return null},Ba;if(Ba=Y(arguments.callee))m=t[Ba]}}}catch(la){c&&ga("env: Error: event "+f,la)}m&&"document-idle"!==m.run_at&&(K=null,"load"==f?a.pageLoaded&&(K=function(){var a=C.document||C;(l||I)&&v("env: postLoadEvent!");a=a||document;
x("load",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:b.Event.AT_TARGET,attrChange:b.MutationEvent.ADDITION,target:a,relatedNode:a,srcElement:a},S,C)},h=!1,r(K,z,f,n)):"DOMContentLoaded"==f&&a.domContentLoaded&&(K=function(){var a=C.document||C;(l||I)&&v("env: postDomEventListener!");a=a||document;x("DOMContentLoaded",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:b.Event.AT_TARGET,attrChange:b.MutationEvent.ADDITION,target:a,relatedNode:a,srcElement:a},S,C)},h=!1,r(K,
z,f,n)),K&&(b.setTimeout(function(){if(M.length){var a=qa(M);a&&a.fn&&a.fn()}},1),h=!1));h&&(K=function(a){return d(S,this,k(a))},void 0===(h=g(S))&&(h=p.length,e(p,{fn:S,listeners:{}})),p[h].listeners[f+"-"+n]=K,this.__addEventListener(f,K,n))}else this.__addEventListener(f,S,n)};e(pa,function(){f.removeEventListener=f.__removeEventListener;f.addEventListener=f.__addEventListener})}},X=function(a){a.__evaluate||(aa(a,{__evaluate:{value:a.evaluate,enumerable:!1,configurable:!1}}),a.evaluate=function(a,
b,c,d,e){l&&v("env: document.evaluate "+a);b||(b=this);var f;if("undefined"!=typeof XPathResult){var B=a,k=null;try{f=this.__evaluate(B,b,c,d,e)}catch(h){k=h}var n=!1;try{n|=!!f.snapshotLength}catch(h){}try{n|=!!f.singleNodeValue}catch(h){}if(n||"."==a[0]||G(b))l&&v("env: queried document for "+B);else{l&&v("env: query added elem for "+B);B=("/"==a[0]?".":"./")+a;try{f=this.__evaluate(B,b,c,d,e)}catch(h){}}l&&v("env: query returned ",f,k);if(!n&&k)throw k;}else l&&v("env: XPathResult == undefined, but selectNodes via ",
a),f=b.selectNodes(a);return f},e(pa,function(){a.evaluate=a.__evaluate}))},da=function(c,d){var e=["eval"],k={};f(c,function(a){a.context_prop&&(k[(a.name.split(".")||[])[1]]=!0)});var p=function(a,c,d,g){var h=function(b){return b===c?a:b},C=function(a,b,c,d){c||(c=a);var h=function(){var h=m(a[b],c,arguments);d&&(h=d(h));return h};h.__proto__=a[b];h.prototype=a[b].prototype;return h},z=function(c){var d,h=null,e=c.replace(/^on/,""),f,h=function(c){(d=c)&&!f?(f=function(){if("function"===typeof d)return m(d,
a,arguments)},b.addEventListener(e,f,!0)):!d&&f&&(b.removeEventListener(e,f,!0),f=null)};ha(a,c,function(){return d});ra(a,c,h)},p=function(b,d){var e,f=null,g=null,f="function"===typeof d.get?d.get:function(){d.opts&&d.opts.get_cb&&m(d.opts.get_cb,this,[arguments,p]);return void 0===e?h(c[b]):e};"function"===typeof d.set?g=d.set:d.get||(g=function(a){e=a});f&&ha(a,b,f);g&&ra(a,b,g)};f(D(g),function(a){d[a]=d[a]||!1!==g[a]});var A=E.sandbox_allow_getters,y=E.detect_constructors_by_keys;f(D(d),function(b){if(!1!==
g[b]){var f,m,v,w={};try{var t=na(c,b);try{if(!(f=g[b])||f.needs_grant&&!0!==k[b])if(d[b].event)w.event=!0;else if(t&&t.get)if(A)w.get=!0;else{l&&u("sandbox: ignore getter",b,t);return}else"function"===(v=typeof(m=c[b]))?d[b].proto?w.wrap=!0:(na(m,"prototype")||y&&D(m).length)&&!t.enumerable||-1!=ba(e,b)||!m.bind?w.direct=!0:w.bind=!0:"number"===v||"string"===v?w.get=!0:w.direct=!0;else if(f.wrap)w.wrap=!0,w.that=f.that;else if(f.direct)w.direct=!0;else if(f.enhance)w.enhance=f.enhance;else if(f.get||
f.set)w.get=f.get,w.set=f.set,w.opts=f.opts}catch(q){w.get=!0}w.enhance?(l&&u("sandbox: original["+b+"] -> enhanced reference"),a[b]=w.enhance):t&&t.get&&!A?l&&u("sandbox: ignore getter",b,t):w.event?(l&&u("sandbox: original["+b+"] -> event reference"),z(b)):w.get||w.set?(l&&u("sandbox: original["+b+"] -> "+("function"===typeof w.get||"function"===typeof w.set?"enhanced ":"")+"getter/setter reference"),p(b,w)):w.wrap?(l&&u("sandbox: original["+b+"] -> wrapped reference "),a[b]=C(c,b,w.that,h)):w.direct?
(l&&u("sandbox: original["+b+"] -> direct reference"),a[b]=h(c[b])):w.bind&&(l&&u("sandbox: original["+b+"] -> bound reference"),a[b]=P(c[b],c))}catch(q){Q("env: error while creating a new sandbox: "+q.message)}}});return a},g=function(a,c,d,f,h){var e=c[d],g=typeof e;f&&"string"===g?c[d]=new b.Function(e):h&&"function"===g&&(c[d]=function(){return m(e,h,arguments)});return m(a,window,c)};return function(){var c=new Window,e={setTimeout:{enhance:function(){return g(b.setTimeout,arguments,0,!0,c)}},
setInterval:{enhance:function(){return g(b.setInterval,arguments,0,!0,c)}},close:{needs_grant:!0,get:function(){return b.self==b.top?function(a){return Z.closeTab(a)}:b.close}},focus:{needs_grant:!0,get:function(){return function(a){return Z.focusTab(a)}}},location:{get:!0,set:function(a){b.location.href=a}},document:{get:function(){var a=b.document;d(a);return a}},clearInterval:{get:function(){return b.clearInterval}},clearTimeout:{get:function(){return b.clearTimeout}},addEventListener:{enhance:function(){return g(b.addEventListener,
arguments,1,!0)}},removeEventListener:{enhance:function(){return g(b.removeEventListener,arguments,1,!0)}}};(function(){var a=ua(b.frames.length,7);e.length={get:!0,opts:{get_cb:function(c,d){for(var f=b.frames.length,e=a;e<f;e++)d(b.String(e),{get:!0});a=ua(f,a)}}};for(var c=0;c<a;c++)e[b.String(c)]={get:!0}})();f(D(b),function(a){b[a]!=window&&(e[a]=e[a]||{enhance:b[a]})});var k=p(c,window,a.windowProps,e),n={context:k,filter:function(a){return a==window?k:a},filterEvent:function(a){var b={},c;
for(c in a)if("function"===typeof a[c])b[c]=function(){var b=c;return function(){return m(a[b],a,arguments)}}();else{var d=n.filter(a[c]);b[c]=d}return b}};return n}()},fa=function(){return q({},b.console,{debug:u,log:v,info:Ea,warn:Q,error:ga})},F=function(d,k,l,t,p,g){var r=null,v=function(){return"[Tampermonkey property]"};try{var u=t.sandboxes[d.uuid],n=["context","fapply"],h=[void 0,void 0];f(t.elements[d.uuid],function(a){a.name?(a.overwrite?(e(n,a.name),e(h,a.value)):a.context_prop||(u[a.name]=
a.value,e(n,a.name),e(h,"context."+a.name)),a.protect&&u[a.name]&&(u[a.name].toString=v)):c&&Q("env: WARN: unexpected item in props elem: "+ia(a))});var C,r=J(["(function(context, fapply, console) {","with (context) {","(function(module) {",'"use strict";',"try {\n",E.measure_scripts?'console.time("'+(C="SCRIPT RUN TIME["+d.name.replace(/\W+/g," ")+"]")+'");\n':"","fapply(module, context, [",J(h,","),"]);",E.measure_scripts?'console.timeEnd("'+C+'");\n':"","} catch (e) {","if (e.message && e.stack) {",
"console.error(\"ERROR: Execution of script '",V(d.name,new b.RegExp("[\"']","g"),"\\$1"),"' failed! \" + e.message);",'console.log(e.stack.replace(/(\\\\(eval at )?<anonymous>[: ]?)|([\\s.]*at Object.tms_[\\s\\S.]*)/g, ""));',"} else {","console.error(e);","}","}\n","})","(function ",g,"(",J(n,","),") {",E.enforce_strict_mode?'"use strict";\n':"",l,k,"\n","})","}","})(this.context, this.fapply, this.console)"],""),y={context:u,fapply:m,console:fa()};p?p(r,y):a.E_c(r,y)}catch(O){Z.syntaxCheck(J([l,
k],""),function(a){var e="";if(a.errors){var g=xa(l,"\n").length-1,h="";a.errors&&f(D(a.errors),function(b){if((b=a.errors[b])&&0<=b.line&&b.reason){var c=b.line;h+=J([c>g?"script:":"require:"," (",b.code,") ",V(b.reason,/.$/,"")," on line: ",c>g?c-g:c," at character: ",b.character,"\n"],"")}});e="JSHINT output:\n"+h}else e=k;var n=O.stack?V(O.stack,/(\\(eval at )?<anonymous>[: ]?)|([\s.]*at Object.tms_[\s\S.]*)/g,""):"";c||a.errors?ga('Syntax error @ "'+d.name+'"!\n##########################\n'+
e+"##########################\n\n"+n):ga('Syntax error @ "'+d.name+'"!\n\n',n);b.setTimeout(function(){throw O;},1)})}};return{create:function(d){var k=d.script,q=[],x=-1!==ba(k.grant,"none")?function(b,c){a.E_u(b,c)}:null,p=k.namespace+"_"+!!x;void 0===a.props[p]&&(a.props[p]={sandboxes:{},elements:{}},e(pa,function(){a.props[p]=null}));e(q,{name:"CDATA",value:function(a){this.src=a;this.toXMLString=this.toString=function(){return this.src}}});e(q,{name:"uneval",value:function(a){try{return"\\$1 = "+
ia(a)+";"}catch(b){v(b)}}});e(q,{name:"define",value:void 0});e(q,{name:"module",value:void 0});var g=[],r=Z.of(d);if(!x){e(q,{name:"window",value:"context",overwrite:!0});var B={window:window};f(D(B),function(a){var b=V(a,/^(.)/g,function(a){return Ha(a)});e(q,{name:"unsafe"+b,value:B[a]})});e(q,{name:"console",value:fa()});e(q,{name:"cloneInto",value:function(a){return a}});e(q,{name:"exportFunction",value:function(a,b,c){c&&void 0!==c.defineAs&&(b[c.defineAs]=a);return a}});e(q,{name:"createObjectIn",
value:function(a,b){var c={};b&&void 0!==b.defineAs&&(a[b.defineAs]=c);return c}});e(g,{name:"GM_addStyle",value:Z.addStyle});e(g,{name:"GM_deleteValue",value:r.deleteValue});e(g,{name:"GM_listValues",value:r.listValues});e(g,{name:"GM_getValue",value:r.getValue});e(g,{name:"GM_setValue",value:r.setValue});e(g,{name:"GM_log",value:Z.log});e(g,{name:"GM_registerMenuCommand",value:r.registerMenuCommand});e(g,{name:"GM_unregisterMenuCommand",value:r.unregisterMenuCommand});e(g,{name:"GM_openInTab",value:r.openInTab});
e(g,{name:"GM_addValueChangeListener",value:r.addValueChangeListener});e(g,{name:"GM_removeValueChangeListener",value:r.removeValueChangeListener});e(g,{name:"GM_xmlhttpRequest",value:r.xmlhttpRequest});e(g,{name:"GM_download",value:r.download});e(g,{name:"GM_setClipboard",value:Z.setClipboard});e(g,{name:"GM_getTab",value:r.getTab});e(g,{name:"GM_setTab",value:r.setTab});e(g,{name:"GM_saveTab",value:r.setTab});e(g,{name:"GM_getTabs",value:r.getTabs});e(g,{name:"GM_notification",value:r.notification});
e(g,{name:"GM_getResourceText",value:r.getResourceText});e(g,{name:"GM_getResourceURL",value:r.getResourceURL});e(g,{name:"window.close",context_prop:!0});e(g,{name:"window.focus",context_prop:!0})}e(g,{name:"GM_info",value:r.getInfo});q=ca(q,oa(k.grant,ea(g,function(a){a.protect=!0;return a})));k.options.compat_prototypes&&((l||c)&&v("env: option: add toSource"),b.Object.prototype.toSource||aa(b.Object.prototype,{toSource:{value:function(){var a=W.toType(this);if("String"===a)return'(String("'+V(this,
new b.RegExp('"',"g"),'\\"')+'"))';if("Number"===a)return'(Number("'+b.Number(this)+'"))';if("Array"===a){for(var a="(new Array(",c=0;c<this.length;c++){var d=W.toType(this[c]),a="Null"===d?a+"null":"Undefined"===d?a+"undefined":a+this[c].toSource();c+1<this.length&&(a+=",")}return a+"))"}return'JSON.parse(unescape("'+b.escape(ia(this))+'"))'},enumerable:!1,writable:!0,configurable:!0}}),(l||c)&&v("env: option: add some array generics"),f("indexOf lastIndexOf filter forEach every map some slice".split(" "),
function(a){if("function"!==typeof b.Array[a]){var c={};c[a]={value:function(c){return m(b.Array.prototype[a],c,m(ma.wrappedJSObject,arguments,[1]))},enumerable:!1,writable:!0,configurable:!0};aa(b.Array,c)}}));g="";if(x)r=new Window;else{var G=da(q,function(a){X(a);y(a);R(a,2,G.filterEvent)}),r={run_at:k.options.run_at,uuid:k.uuid},g="tms_"+V(k.uuid,/-/g,"_");t[g]=r;R(G.context,1,G.filterEvent,r);r=G.context}a.props[p].sandboxes[k.uuid]=r;a.props[p].elements[k.uuid]=q;(l||c)&&u("env: execute script "+
k.name+" @ the "+(x?"un":"")+"safe context now!");F(k,d.code,d.requires,a.props[p],x,g)}}}();(function(){if(E.external_connect){var a;if(a=window.external){var b=function(a,b){k.send("external.message",a,function(a){b&&b(a)})};aa(a,{Tampermonkey:{get:function(){return{getVersion:function(a){b({method:"getVersion"},a)},isInstalled:function(a,c,d){"function"===typeof c&&(d=c,c=null);b({method:"isInstalled",script:{name:a,namespace:c}},d)}}},configurable:!0}})}}})();k.onMessage.setListener(function(a){var b=
a.a;"load"==a.m?da.runListeners():"DOMContentLoaded"==a.m?da.runListeners():"setForeignAttr"==a.m?window[b.attr]=b.value:"port.message"==a.m?R.message(b):"executeScript"==a.m?da.run(a.a):"cleanup"==a.m?k.cleanup():c&&v("env: unkown method",a)});c&&v("Tampermonkey started");f(a.scripts,function(a){da.run(a)})}});
